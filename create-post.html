<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Hello Daisy</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/stylesheet.css" rel="stylesheet">
    <link href="css/bootstrap-imageupload.min.css" rel="stylesheet">
    <link href="css/summernote.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,500" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    <link href="css/video-js.min.css" rel="stylesheet">
    <link href="css/videojs.record.min.css" rel="stylesheet">

    <style>
    #myVideo {
        background-color: #00607F;
        width:100%;
    }

    #myAudio {
        background-color: #00607F;
        width:100%;
    }

    #myImage {
    background-color: #00607F;
    width:100%;
    }
    </style>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container companionHome">
        <nav class="navbar navbar-inverse navbar-fixed-top container-fluid">
          <div class="col-xs-3 text-left">
            <div class="notificationMenu">
              <img src="img/icon-notifications.png" alt="Notifications Icon" class="headerIcon" data-toggle="dropdown" />
              <span class="notification badge">86</span>
              <ul class="dropdown-menu">
                <div class="menuHeader">
                  <h3>Notifications</h3>
                  <h5>86 new</h5>
                  <div class="clearfix"></div>
                </div>
                <li><a href="#">Photos <span class="notification-menu badge">37</span></a> </li>
                <li><a href="#">Videos <span class="notification-menu badge">11</span></a></li>
                <li><a href="#">Comments <span class="notification-menu badge">38</span></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 text-center">
            <img src="img/Hello-Daisy-Logo-White.png" alt="Hello Daisy Logo" class="logo img-responsive" />
          </div>
          <div class="col-xs-3 text-right">
            <div class="hamburgerMenu">
              <img src="img/icon-menu.png" alt="Menu Icon" class="headerIcon" data-toggle="dropdown" />
              <ul class="dropdown-menu dropdown-menu-right">
                <div class="menuHeader">
                  <h3>Navigation</h3>
                  <div class="clearfix"></div>
                </div>
                <li><a href="home.html">Home</a></li>
                <li><a href="create-post.html">Create a Post</a></li>
                <li><a href="profile.html">Profile</a></li>
                <li><a href="index.html">Sign Out</a></li>
              </ul>
            </div>
          </div>
        </nav>
      <div class="row">
        <div class="introContent">
          <div class="col-xs-12 text-center">
            <h1 class="welcomeText">Create a new post...</h1>
          </div>
        </div>
        <div class="col-xs-12">
          <div class="createPost">
            <div class="row border-between contentCTA">
              <div class="col-xs-6 col-sm-3 text-center">
                <div class="addContent">
                  <a href="#" data-toggle="modal" data-target="#takePhoto" id="take-photo">
                    <img src="img/icon-add-photo.png" class="img-responsive newPostIcon" />
                  </a>
                  <h3>Take Photo</h3>
                </div>
              </div>
              <div class="col-xs-6 col-sm-3 text-center">
                <div class="addContent">
                  <div class="desktopLink">
                    <a href="#" data-toggle="modal" data-target="#recordAudio" id="record-audio">
                      <img src="img/icon-record-audio.png" class="img-responsive newPostIcon" />
                    </a>
                  </div>
                  <!--<div class="mobileLink">
                    <a href="#" class="input-file" id="record-audio">
                      <img src="img/icon-record-audio.png" class="img-responsive newPostIcon" />
                    </a>
                  </div>-->
                  <h3>Record Audio</h3>
                </div>
              </div>
              <div class="col-xs-6 col-sm-3 text-center">
                <div class="addContent">
                  <a href="#" data-toggle="modal" data-target="#recordVideo" id="record-video">
                    <img src="img/icon-record-video.png" class="img-responsive newPostIcon" />
                  </a>
                  <h3>Record Video</h3>
                </div>
              </div>
              <div class="col-xs-6 col-sm-3 text-center">
                <div class="addContent">
                  <a href="#" id="writeText">
                    <img src="img/icon-write-text.png" class="img-responsive newPostIcon" />
                  </a>
                  <h3>Write Text</h3>
                </div>
              </div>
            </div>
            <div class="imageupload panel panel-default">
                <div class="file-tab panel-body">
                    <label class="btn btn-tertiary btn-file center-block" id="upload-photo">
                        <span>Upload Photo</span>
                        <!-- The file is stored here. -->
                        <input type="file" name="image-file">
                    </label>
                    <button type="button" class="btn btn-tertiary center-block removeButton">Remove</button>
                </div>
            </div>
            <div class="upload-wrapper panel panel-default">
              <div id="error_output"></div>
              <div class="panel-body">
              	<!-- file drop zone -->
                  <div id="dropzone">
                      <!-- upload button -->
                      <label class="input-file btn btn-tertiary center-block" id="fileupload">
                          Upload Audio / Video <input type="file" name="files[]" multiple>
                      </label>
                  </div>
                  <!-- The container for the uploaded files -->
                  <div id="files" class="files"></div>
                </div>
              </div>
            <div class="postDetails">
              <div class="form-group">
                <label for="postTitle">Post Title</label>
                <input type="text" class="form-control" id="postTitle" placeholder="Give your post a title...">
              </div>
              <div class="form-group" id="post-description">
                <label for="postDesc">Post Description</label>
                <div id="postDescription"></div>
                <!--<input type="text" class="form-control" id="postDesc" placeholder="Add some information about your post...">-->
              </div>
              <p><a href="home.html" class="btn btn-tertiary disabled">Create Post</a></p>
            </div>

            <div class="clearfix"></div>
          </div>
        </div>

      </div>
    </div>

    <div id="takePhoto" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <a type="button" class="close" data-dismiss="modal">&times;</a>
            <h4 class="modal-title">Take Photo</h4>
          </div>
          <div class="modal-body" id="results">
            <video id="myImage" class="video-js vjs-default-skin"></video>
            <button class="btn btn-tertiary center-block uploadButton" disabled>Upload</button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="recordVideo" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <a type="button" class="close" data-dismiss="modal">&times;</a>
            <h4 class="modal-title">Record Video</h4>
          </div>
          <div class="modal-body">
            <video id="myVideo" class="video-js vjs-default-skin"></video>
            <button class="btn btn-tertiary center-block uploadButton" disabled>Upload</button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div id="recordAudio" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <a type="button" class="close" data-dismiss="modal">&times;</a>
            <h4 class="modal-title">Record Audio</h4>
          </div>
          <div class="modal-body">
            <audio id="myAudio" class="video-js vjs-default-skin"></audio>
            <button class="btn btn-tertiary center-block uploadButton" disabled>Upload</button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>



  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="js/bootstrap.min.js"></script>
  <script src="js/bootstrap-imageupload.min.js"></script>
  <script type="text/javascript">
  $('.img-upload').imgupload({
    allowedFormats: [ "jpg", "jpeg", "png", "gif" ],
    previewWidth: 600,
    previewHeight: 300,
    maxFileSizeKb: 20488
  });
  </script>

  <script>
      var $imageupload = $('.imageupload');
      $imageupload.imageupload({
        maxWidth:600,
        maxHeight:300
      });

      $('#imageupload-disable').on('click', function() {
          $imageupload.imageupload('disable');
          $(this).blur();
      })

      $('#imageupload-enable').on('click', function() {
          $imageupload.imageupload('enable');
          $(this).blur();
      })

      $('#imageupload-reset').on('click', function() {
          $imageupload.imageupload('reset');
          $(this).blur();
      });
  </script>

  <script>
    $(document).ready(function() {
      $('#postDescription').summernote({
        toolbar: [
          // [groupName, [list of button]]
          ['style', ['bold', 'italic', 'underline', 'clear']],
          ['fontsize', ['fontsize']],
          ['color', ['color']],
          ['para', ['paragraph']],
        ],
        height: 200,
        placeholder: 'Enter your post description here',
      });
    });
  </script>

  <script type="text/javascript">
  $(window).scroll(function() {
    if ($(document).scrollTop() > 10) {
      $('nav').addClass('shrink');
    } else {
      $('nav').removeClass('shrink');
    }
  });
  </script>

  <script>
  $("#writeText").click(function() {
    $("#post-description").show( "slow", function() {
    });
  });
  $("#record-audio").click(function() {
    $("#post-description").hide( "slow", function() {
    });
  });
  $("#take-photo").click(function() {
    $("#post-description").hide( "slow", function() {
    });
  });
  $("#record-video").click(function() {
    $("#post-description").hide( "slow", function() {
    });
  });
  $("#fileupload").click(function() {
    $("#post-description").hide( "slow", function() {
    });
  });
  $("#upload-photo").click(function() {
    $("#post-description").hide( "slow", function() {
    });
  });
  </script>
  <script>
    $('video').attr('webkit-playsinline');
  </script>

  <script src="https://cdn.webrtc-experiment.com/RecordRTC.js"></script>
  <script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
  <script src="js/video.min.js"></script>
  <script src="js/videojs.record.min.js"></script>
  <script src="js/wavesurfer.min.js"></script>
  <script src="js/wavesurfer.microphone.min.js"></script>
  <script src="js/videojs.wavesurfer.min.js"></script>

  <script src="js/common.js"></script>
  <script src="js/lib/ga.js"></script>
  <script src="js/summernote.min.js"></script>

  <!-- Video file upload scripts -->
  <script src="js/videoUpload/vendor/jquery.ui.widget.js"></script>
  <script src="js/videoUpload/load-image.all.min.js"></script>
  <script src="js/videoUpload/canvas-to-blob.min.js"></script>
  <script src="js/videoUpload/jquery.iframe-transport.js"></script>
  <!-- The XDomainRequest Transport is included for cross-domain file deletion for IE 8 and IE 9 -->
  <!--[if (gte IE 8)&(lt IE 10)]>
  <script src="js/videoUpload/cors/jquery.xdr-transport.js"></script>
  <![endif]-->
  <script src="js/videoUpload/jquery.fileupload.js"></script>
  <script src="js/videoUpload/jquery.fileupload-process.js"></script>
  <script src="js/videoUpload/jquery.fileupload-image.js"></script>
  <script src="js/videoUpload/jquery.fileupload-video.js"></script>
  <script src="js/videoUpload/jquery.fileupload-audio.js"></script>
  <script src="js/videoUpload/jquery.fileupload-validate.js"></script>
  <script src="js/videoUpload/videoUploadScript.js"></script>


<script>
  var options = {
      controls: true,
      width: 568,
      height: 426,
      plugins: {
          record: {
              audio: true,
              video: true,
              maxLength: 3600,
              debug: true
          }
      }
  };

  // use correct video mimetype for opera
  if (!!window.opera || navigator.userAgent.indexOf('OPR/') !== -1) {
      options.plugins.record.videoMimeType = 'video/webm\;codecs=vp8'; // or vp9
  }

  var player = videojs("myVideo", options);

  // error handling
  player.on('deviceError', function() {
      console.log('device error:', player.deviceErrorCode);
  });

  // user clicked the record button and started recording
  player.on('startRecord', function() {
      console.log('started recording!');
  });

  // user completed recording and stream is available
  player.on('finishRecord', function() {
      // the blob object contains the recorded data that
      // can be downloaded by the user, stored on server etc.
      console.log('finished recording: ', player.recordedData);
  });
</script>

  <script>
  var player = videojs("myAudio", {
      controls: true,
      width: 568,
      height: 300,
      plugins: {
          wavesurfer: {
              src: "live",
              waveColor: "#36393b",
              progressColor: "black",
              debug: true,
              cursorWidth: 1,
              msDisplayMax: 20,
              hideScrollbar: true
          },
          record: {
              audio: true,
              video: false,
              maxLength: 600,
              debug: true
          }
      }
  });
  // error handling
  player.on('deviceError', function() {
      console.log('device error:', player.deviceErrorCode);
  });

  // user clicked the record button and started recording
  player.on('startRecord', function() {
      console.log('started recording!');
  });

  // user completed recording and stream is available
  player.on('finishRecord', function() {
      // the blob object contains the recorded data that
      // can be downloaded by the user, stored on server etc.
      console.log('finished recording: ', player.recordedData);
  });
  </script>


  <script>
  var player = videojs("myImage", {
      controls: true,
      width: 568,
      height: 426,
      controlBar: {
          volumePanel: false,
          fullscreenToggle: false
      },
      plugins: {
          record: {
              image: true,
              debug: true
          }
      }
  });
  // error handling
  player.on('deviceError', function() {
      console.warn('device error:', player.deviceErrorCode);
  });

  // snapshot is available
  player.on('finishRecord', function() {
      // the blob object contains the image data that
      // can be downloaded by the user, stored on server etc.
      console.log('snapshot ready: ', player.recordedData);
  });
  </script>



  </body>
</html>
